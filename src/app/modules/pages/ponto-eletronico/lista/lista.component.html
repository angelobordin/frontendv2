<div class="flex flex-col flex-auto min-w-0">

    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">

        <div>
            <p-table #table [value]="registros" selectionMode="single" (selectionChange)="editRegistro($event)"
                dataKey="cpf" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[10, 25, 50]"
                styleClass="p-datatable-sm" [tableStyle]="{ 'min-width': '50rem' }" [loading]="loading"
                [globalFilterFields]="['cpf', 'name', 'email', 'cellphone', 'validate']">
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="cpf">
                            CPF <p-sortIcon field="cpf"></p-sortIcon>
                        </th>
                        <th pSortableColumn="name">
                            Nome <p-sortIcon field="name"></p-sortIcon>
                        </th>
                        <th pSortableColumn="email">
                            E-mail <p-sortIcon field="email"></p-sortIcon>
                        </th>
                        <th pSortableColumn="cellphone">
                            Celular <p-sortIcon field="sex"></p-sortIcon>
                        </th>
                        <th>Ativo</th>
                    </tr>
                    <tr>
                        <th>
                            <p-columnFilter type="text" field="cpf"></p-columnFilter>
                        </th>
                        <th>
                            <p-columnFilter type="text" field="name"></p-columnFilter>
                        </th>
                        <th>
                            <p-columnFilter type="text" field="email"></p-columnFilter>
                        </th>
                        <th>
                            <p-columnFilter type="text" field="cellphone"></p-columnFilter>
                        </th>
                        <th>
                            <p-columnFilter type="boolean" field="active"></p-columnFilter>
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-registro>
                    <tr [pSelectableRow]="registro">
                        <td>{{ registro.cpf | mask: "000.000.000-00" }}</td>
                        <td>{{ registro.name }}</td>
                        <td>{{ registro.email }}</td>
                        <td>{{ registro.cellphone | mask: "+55 (00) 00000-0000" }}</td>
                        <td>
                            <i class="pi"
                                [ngClass]="{ 'text-green-500 pi-check-circle': registro.validate, 'text-red-500 pi-times-circle': !registro.validate }"></i>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="7">No customers found.</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>

    </div>

</div>